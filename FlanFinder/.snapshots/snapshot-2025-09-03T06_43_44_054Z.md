When I create a form and I filled it, it doesnt save the enter data, just show the default value that is empty, how can i fix it?

# Project Structure

â”œâ”€ ğŸ“ src
  â”œâ”€ ğŸ“ app
    â”œâ”€ ğŸ“ all-users
      â””â”€ all-users.ts
      â””â”€ all-users.spec.ts
      â””â”€ all-users.html
      â””â”€ all-users.css
    â”œâ”€ ğŸ“ register
      â””â”€ register.ts
      â””â”€ register.spec.ts
      â””â”€ register.html
      â””â”€ register.css
    â”œâ”€ ğŸ“ login
      â””â”€ login.spec.ts
      â””â”€ login.html
      â””â”€ login.ts
      â””â”€ login.css
    â”œâ”€ ğŸ“ home-page
      â””â”€ home-page.ts
      â””â”€ home-page.spec.ts
      â””â”€ home-page.html
      â””â”€ home-page.css
      â””â”€ url-service.ts
      â””â”€ lands.ts
    â”œâ”€ ğŸ“ models
      â””â”€ user.ts
      â””â”€ land.ts
    â”œâ”€ ğŸ“ my-flats
      â””â”€ my-flats.ts
      â””â”€ my-flats.spec.ts
      â””â”€ my-flats.html
      â””â”€ my-flats.css
    â”œâ”€ ğŸ“ new-flat
      â””â”€ new-flat.ts
      â””â”€ new-flat.spec.ts
      â””â”€ new-flat.html
      â””â”€ new-flat.css
    â”œâ”€ ğŸ“ services
      â””â”€ userService.ts
    â”œâ”€ ğŸ“ profile
      â””â”€ profile.ts
      â””â”€ profile.spec.ts
      â””â”€ profile.html
      â””â”€ profile.css
    â”œâ”€ ğŸ“ flat-view
      â””â”€ flat-view.ts
      â””â”€ flat-view.spec.ts
      â””â”€ flat-view.html
      â””â”€ flat-view.css
    â”œâ”€ ğŸ“ favorites
      â””â”€ favorites.ts
      â””â”€ favorites.spec.ts
      â””â”€ favorites.html
      â””â”€ favorites.css
    â””â”€ app.config.server.ts
    â””â”€ app.config.ts
    â””â”€ app.html
    â””â”€ app.routes.server.ts
    â””â”€ app.css
    â””â”€ app.routes.ts
    â””â”€ app.ts
    â””â”€ app.spec.ts
  â””â”€ styles.css
  â””â”€ server.ts
  â””â”€ main.ts
  â””â”€ main.server.ts
  â””â”€ index.html
â”œâ”€ ğŸ“ public
  â””â”€ guide.pdf
â””â”€ README.md
â””â”€ tsconfig.spec.json
â””â”€ tsconfig.json
â””â”€ package.json
â””â”€ package-lock.json
â””â”€ angular.json
â””â”€ .editorconfig


# Project Files

- c:\Users\coroz\Desktop\Me\Classes\Greystone\Tech Course 4\root\Michael--Rodrigo\FlanFinder\src\app\new-flat\new-flat.ts
- c:\Users\coroz\Desktop\Me\Classes\Greystone\Tech Course 4\root\Michael--Rodrigo\FlanFinder\src\app\new-flat\new-flat.html
- c:\Users\coroz\Desktop\Me\Classes\Greystone\Tech Course 4\root\Michael--Rodrigo\FlanFinder\src\app\services\userService.ts

## c:\Users\coroz\Desktop\Me\Classes\Greystone\Tech Course 4\root\Michael--Rodrigo\FlanFinder\src\app\new-flat\new-flat.ts
```
import { Component } from '@angular/core';
import { Land } from '../models/land';
import { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';
import { UserService } from '../services/userService';

@Component({
  selector: 'app-new-flat',
  imports: [ReactiveFormsModule],
  templateUrl: './new-flat.html',
  styleUrl: './new-flat.css'
})
export class NewFlat {
  form: FormGroup;

  constructor(private fb: FormBuilder, private userService: UserService) {
    this.form = this.fb.group({
      city: [String, Validators.required],
      streetName: [String, Validators.required],
      streetNumber: [Number, Validators.required],
      areaSize: [Number, Validators.required],
      ac: [Boolean, Validators.required],
      year: [Number, Validators.required],
      price: [Number, Validators.required],
      date: [Date, Validators.required],
      description: [String, Validators.required],
      imageUrl: [String, Validators.required]
    });
  }

  createFlat() {
    if(this.form.valid){
      const land: Land = this.form.value;
      this.userService.addLand(land);
      console.log('Flat created:', land);
      console.log(this.userService.getCurrentUser());
      for (const [key, value] of Object.entries(land)) {
        console.log(`  ${key}: ${value}`);
      }
    }
    else{
      const land: Land = this.form.value;
      this.form.markAllAsTouched();
      console.log('Form is invalid');
      for (const [key, value] of Object.entries(land)) {
        console.log(`  ${key}: ${value}`);
      }
    }
  }
  showData(){
    console.log(this.form.value);
    console.log(this.userService.getCurrentUser());
  }
}

```

## c:\Users\coroz\Desktop\Me\Classes\Greystone\Tech Course 4\root\Michael--Rodrigo\FlanFinder\src\app\new-flat\new-flat.html
```
<div class="box">
    <h1>Create a New Flat</h1>
    <form>
        <label for="city">City:</label>
        <input type="text" id="city" name="city" required>

        <label for="streetName">Street Name:</label>
        <input type="text" id="streetName" name="streetName" required>

        <label for="streetNumber">Street Number:</label>
        <input type="number" id="streetNumber" name="streetNumber" required>

        <label for="areaSize">Area Size:</label>
        <input type="number" id="areaSize" name="areaSize" required>

        <label for="ac">Air Conditioning:</label>
        <input type="checkbox" id="ac" name="ac">

        <label for="year">Year Built:</label>
        <input type="number" id="year" name="year" required>

        <label for="price">Price:</label>
        <input type="number" id="price" name="price" required>

        <label for="date">Available From:</label>
        <input type="date" id="date" name="date" required>

        <label for="description">Description:</label>
        <textarea id="description" name="description" required></textarea>

        <label for="imageUrl">Image URL:</label>
        <input type="text" id="imageUrl" name="imageUrl" required>
    </form>
    <div class="buttons">
        <button (click)="createFlat()">Create Flat</button>
        <button (click)="showData()">Show Data</button>
    </div>
</div>
```

## c:\Users\coroz\Desktop\Me\Classes\Greystone\Tech Course 4\root\Michael--Rodrigo\FlanFinder\src\app\services\userService.ts
```
import { Injectable, Inject, PLATFORM_ID } from '@angular/core';    
import { isPlatformBrowser } from '@angular/common'; 
import { User } from '../models/user';
import { Land } from '../models/land';

@Injectable({
  providedIn: 'root'
})
export class UserService {
  private storageKey = 'users';
  public currentKey = 'currentUser';
  private isBrowser: boolean;

  constructor(@Inject(PLATFORM_ID) private platformId: Object) { 
    this.isBrowser = isPlatformBrowser(this.platformId); 
  }

  getUsers(): User[] {
    if (this.isBrowser) { 
      const data = localStorage.getItem(this.storageKey);
      return data ? JSON.parse(data) : [];
    }
    return []; 
  }

  private saveUsers(users: User[]): void {
    if (this.isBrowser) { 
      localStorage.setItem(this.storageKey, JSON.stringify(users));
    }
  }

  addUser(user: User): void {
    const users = this.getUsers();
    users.push(user);
    this.saveUsers(users);
  }

  findByEmail(email: string): User | undefined {
    return this.getUsers().find(u => u.email === email);
  }

  login(email: string, password: string): boolean {
    if (this.isBrowser) { 
        const user = this.getUsers().find(
          u => u.email === email && u.password === password
        );
        if (user) {
          localStorage.setItem(this.currentKey, JSON.stringify(user));
          return true;
        }
    }
    return false; 
  }

  getCurrentUser(): User | null {
    if (this.isBrowser) { 
        const data = localStorage.getItem(this.currentKey);
        if (data) {
          return JSON.parse(data);
        }
    }
    return null; 
  }

  logout(): void {
    if (this.isBrowser) { 
      localStorage.removeItem(this.currentKey);
    }
  }

  addLand(land: Land): void {
    if (this.isBrowser) { 
        const user = this.getCurrentUser();
        if (user) {
          user.lands = user.lands || [];
          user.lands.push(land);
          const users = this.getUsers();
          const userIndex = users.findIndex(u => u.email === user.email);
          if (userIndex > -1) {
            users[userIndex] = user;
            this.saveUsers(users);
          }
          localStorage.setItem(this.currentKey, JSON.stringify(user));
        }
    }
  }
}
```

